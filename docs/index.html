<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Downloads, cleans and creates wordcloud of lyrics • rlyrics</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Downloads, cleans and creates wordcloud of lyrics">
<meta property="og:description" content="Downloads data from Kaggle, finds the lyrics of a certain artist and song, cleans the lyrics and creates wordcloud of lyrics.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rlyrics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/Intro_to_rlyrics.html">Introduction to rlyrics</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="rlyrics">rlyrics<a class="anchor" aria-label="anchor" href="#rlyrics"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<ul>
<li>Authors: Abhiket Gaurav, Artan Zandian, Macy Chan, Manju Abhinandana
Kumar</li>
</ul>
<p>An R package to extract and analyze lyrics</p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The goal of rlyrics is to extract and analyze lyrics. It provides
functions to download songs attribute datasets from Kaggle, extract
lyrics, clean text and generate a word cloud.</p>
</div>
<div class="section level2">
<h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a>
</h2>
<table class="table">
<colgroup>
<col width="7%">
<col width="26%">
<col width="5%">
<col width="60%">
</colgroup>
<thead><tr class="header">
<th>Function Name</th>
<th>Input</th>
<th>Output</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>download_data</td>
<td>
<code>dataset</code>, <code>columns</code>
</td>
<td>Dataframe</td>
<td>Downloads dataset from <code>kaggle dataset</code> and extract
<code>columns</code> from csv file</td>
</tr>
<tr class="even">
<td>extract_lyrics</td>
<td>
<code>song_title</code>, <code>artist</code>
</td>
<td>String</td>
<td>Extracts song lyrics of a song <code>song_title</code> by
<code>artist</code>
</td>
</tr>
<tr class="odd">
<td>clean_text</td>
<td>
<code>text</code>, <code>bool_contra_dict</code>
</td>
<td>String</td>
<td>Cleans up the <code>lyrics</code> by removing special characters,
html tags, #tags, contraction words and convert everything to lower
case</td>
</tr>
<tr class="even">
<td>plot_cloud</td>
<td>
<code>song</code>, <code>max_font_size</code>,
<code>max_words</code>, <code>background_color</code>
</td>
<td>Image</td>
<td>Creates a word cloud image of most occurring words of a song/songs
by an artist</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="our-package-in-the-r-ecosystem">Our Package in the R Ecosystem<a class="anchor" aria-label="anchor" href="#our-package-in-the-r-ecosystem"></a>
</h2>
<p>There exist similar packages in R. However, this package is more
holistic, in the sense that it downloads the lyrics through APIs, cleans
the text, and then makes the word cloud. There are packages which does
one of these steps. This package takes care of all the steps. Of the
many other similar packages, the one that come close is: <a href="https://cran.r-project.org/web/packages/geniusr/geniusr.pdf" class="external-link">geniusr</a></p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of rlyrics from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"UBC-MDS/rlyrics"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<p>The rlyrics packages contains the following four functions:</p>
<ol style="list-style-type: decimal">
<li><p><code><a href="reference/download_data.html">download_data()</a></code> The download data function downloads
dataset from Kaggle, extracts the given columns from csv file and
creates a dataframe.</p></li>
<li><p><code><a href="reference/extract_lyrics.html">extract_lyrics()</a></code> The extract lyrics function,
extracts the lyrics from API for a song title and artist and saves it as
a dataframe with columns song title, artist and lyrics.</p></li>
<li><p><code><a href="reference/clean_text.html">clean_text()</a></code> The lyrics extracted from
<code><a href="reference/extract_lyrics.html">extract_lyrics()</a></code> are not clean. It removes special
characters, html tags, #tags, contraction words and converts everything
to lower case.</p></li>
<li><p><code><a href="reference/plot_cloud.html">plot_cloud()</a></code> The plot cloud function creates a word
cloud of most occurring words in a song/songs by an artist.</p></li>
</ol>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="section level4">
<h4 id="downloading-and-selecting">Downloading and Selecting<a class="anchor" aria-label="anchor" href="#downloading-and-selecting"></a>
</h4>
<p>The first function in our package is the
<code><a href="reference/download_data.html">download_data()</a></code>. Here you will input your <code>kaggle
dataset</code> and the columns to be extracted into a dataframe with
<code>columns</code> argument.</p>
<p>To use the Kaggle API, sign up for a Kaggle account at Kaggle. Then
go to the ‘Account’ tab of your user profile (<a href="https://www.kaggle.com/" class="external-link uri">https://www.kaggle.com/</a>&lt;username&gt;/account) and
select ‘Create API Token’. This will trigger the download of
kaggle.json, a file containing your API credentials. Place this file in
the location ~/.kaggle/kaggle.json. The function will automatically read
your Kaggle credentials from the above path.</p>
<p>For more information about API call limits and API care
recommendations please visit the <a href="https://github.com/Kaggle/kaggle-api" class="external-link">Kaggle API</a> or <a href="https://www.kaggle.com/docs/api" class="external-link">Official Kaggle API
documentation</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rlyrics</span><span class="op">)</span>
<span class="co"># Example dataset: Spotify Song Attributes  </span>
<span class="va">dataset</span> <span class="op">&lt;-</span> <span class="st">"geomack/spotifyclassification"</span>
<span class="co"># Extract columns </span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_data.html">download_data</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"song_title"</span>, <span class="st">"artist"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="extracting-lyrics">Extracting Lyrics<a class="anchor" aria-label="anchor" href="#extracting-lyrics"></a>
</h4>
<p>The <code><a href="reference/extract_lyrics.html">extract_lyrics()</a></code> function gets the
<code>song_title</code> and <code>artist</code> name, checks validity
and availability of the combination, and extracts the lyrics for that
song in a raw string format with header, footer etc which needs to be
cleaned in order to create a human-readable text.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rlyrics</span><span class="op">)</span>
<span class="co"># extracting lyrics </span>
<span class="fu"><a href="reference/extract_lyrics.html">extract_lyrics</a></span><span class="op">(</span> <span class="st">"22"</span>, <span class="st">"Taylor Swift"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="cleaning">Cleaning<a class="anchor" aria-label="anchor" href="#cleaning"></a>
</h4>
<p>The <code><a href="reference/clean_text.html">clean_text()</a></code> function turns the raw lyrics into a
human-readable text.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rlyrics</span><span class="op">)</span>
<span class="va">text</span> <span class="op">&lt;-</span> <span class="st">"Early optimization is the root of all evil!"</span>
<span class="co"># Clean the extracted raw lyrics (text)</span>
<span class="fu"><a href="reference/clean_text.html">clean_text</a></span><span class="op">(</span><span class="va">text</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="creating-wordcloud">Creating WordCloud<a class="anchor" aria-label="anchor" href="#creating-wordcloud"></a>
</h4>
<p>WordCloud is an artistic rendering of the most frequent words in a
text document. A higher occurrence for a word is translated into a
larger text size. At this stage, we have helper functions to facilitate
the extraction and cleaning of lyrics. The <code><a href="reference/plot_cloud.html">plot_cloud()</a></code>
function accepts a dataframe with artist and song_title data. It will
then extract the lyrics for all songs and saves a WordCloud of the most
occurring terms in the file_path provided by the user. The WordCloud
parameters to be set are self-explanatory: max_font_size, max_word and
background_color.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rlyrics</span><span class="op">)</span>
<span class="va">song</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>song_title  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"22"</span>, <span class="st">"Bohemian Rhapsody"</span><span class="op">)</span>, artist <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Taylor Swift"</span>, <span class="st">"Queen"</span><span class="op">)</span><span class="op">)</span>
<span class="co"># plotting and saving WordCloud</span>
<span class="fu"><a href="reference/plot_cloud.html">plot_cloud</a></span><span class="op">(</span><span class="va">song</span>, max_font_size<span class="op">=</span><span class="fl">1.6</span>, max_words<span class="op">=</span><span class="fl">100</span>, background_color<span class="op">=</span><span class="st">"white"</span><span class="op">)</span></code></pre></div>
<p><img src="reference/figures/wordcloud.png" width="40%"></p>
</div>
</div>
<div class="section level2">
<h2 id="contributors">Contributors<a class="anchor" aria-label="anchor" href="#contributors"></a>
</h2>
<p>The names of core development team is listed below.</p>
<table class="table">
<thead><tr class="header">
<th align="center">Name</th>
<th align="center">GitHub Handle</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center">Abhiket Gaurav</td>
<td align="center">abhiket</td>
</tr>
<tr class="even">
<td align="center">Artan Zandian</td>
<td align="center">artanzand</td>
</tr>
<tr class="odd">
<td align="center">Macy Chan</td>
<td align="center">macychan</td>
</tr>
<tr class="even">
<td align="center">Manju Abhinandana Kumar</td>
<td align="center">manju-abhinandana</td>
</tr>
</tbody>
</table>
<p>We welcome and recognize all contributions. Check out the
contributing guidelines. Please note that this project is released with
a Code of Conduct. By contributing to this project, you agree to abide
by its terms.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p><code>rlyrics</code> was created by Group 2. It is licensed under the
terms of the MIT license.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rlyrics</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Abhiket Gaurav <br><small class="roles"> Author </small>  </li>
<li>Artan Zandian <br><small class="roles"> Author </small>  </li>
<li>Macy Chan <br><small class="roles"> Author, maintainer </small>  </li>
<li>Manju Abhinandana Kumar <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/UBC-MDS/rlyrics/actions" class="external-link"><img src="https://github.com/UBC-MDS/rlyrics/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/gh/UBC-MDS/rlyrics" class="external-link"><img src="https://codecov.io/gh/UBC-MDS/rlyrics/branch/main/graph/badge.svg?token=5JHKJfpMQ5" alt="codecov"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Abhiket Gaurav, Artan Zandian, Macy Chan, Manju
Abhinandana Kumar.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
